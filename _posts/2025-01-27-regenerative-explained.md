---
layout: post
title: 动能回收的实现方式
tags: [bldc, motor]
---

电动汽车进行动能回收的原理就是电动机可以作为发电机使用。

但是具体是怎么实习的呢？


# 方法1，当发电机使用

发电机发的电，如何转换成直流电？ 答案是 整流，然后经过 Boost 升压。为何要升压呢？因为感应电动势小于电池电压。

也就是说动能回收的时候，电机输出电压要小于电池电压。因此整流后，还要经过一个升压，然后就能冲入电池了。

调节升压电路的输出电压，就可以调节充电电流，也就是调节了动能回收的功率。

因此动能回收可以是一条独立的电路。其电路就是 6个二极管构成的三相整流桥 + 1或2个 mos管构成的非同步或同步Boost升压电路。

# 方法2，使用4象限逆变器

前一个方法要增加一套电路，成本大大的。其实完全可以复用逆变器的电路。

那么具体的来说，就是让逆变器输出的三相电压的相位，完全跟随电动机旋转时产生的3个反电动势电压的相位。但是，逆变器输出的电压，略低于电动机的反电动势。

于是，电流就会逆向流动。从电动机反向流入逆变器的直流母线。
导致直流母线电压抬升。

而逆变器的直流母线又是和电池并联的，于是电流逆向流入电池。完成充电。

而控制逆变器的输出电压和电机反电动势的电压差，就可以控制充电电流的大小。

进而控制动能回收功率。

其实做过三相功率因素矫正电路的人都知道，其电路也是6个MOS管。实际上三相带功率因素矫正的整流电路，本质上就是个工作在动能回收模式的逆变器。只是和电机的逆变器直接使用角度传感器获得转子位置（进而获得各相电压相位）不同，功率因素矫正电路使用锁相环电路获得市电的相位。

而且，使用此方法，也不需要对电控的代码进行修改。

哈哈，这是为啥呢？

因为现有的电控代码，都是使用 DQ 坐标系进行控制的。在控制代码里，其实只要简单的将 闭环控制目标设定为输出负 Q轴电流，剩下的代码，自动的就会将逆变器的工作模式切换为上述流程。
不需要额外增加代码。

既然正向输出的 “功率限制” 功能都是现成的，那么动能回收控制功率就是换个正负号的事情。

