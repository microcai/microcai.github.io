---
layout: post
title: 变频器制作-第12部分 电源，还是电源
tags: [变频器, 供电, DCDC, ACDC, FlyBuck, 隔离]
---

# 说到供电

一个变频器，需要4组电压供电，分别是 DC 300V, DC 12V, DC 5V, 隔离 5V.

300v 是高压， 12v 和 5v 乃低压。

只不过， 12v 和 5v 和 300v 的高压，负极是连到一起的。因此，这个负极，是不安全的负极。这个负极，是zhengliuqiao+ 

其中， 300V DC 由一个整流桥 + 一个 LC 滤波器获得。

12V 是专门给栅极驱动器供电的。NMOS 一般使用 12V 门级电压确保完全开启。
5v 是给隔离器的高压侧供电的。隔离5v 则是给隔离器的低压侧，和其他需要安全的隔离的电路供电。比如 mcu，显示屏等。

# 使用成品5v小电源获得供电

12v 属于低压。在传统上，会使用一个开关电源获取低压供电。
我最初也是这么设计的。由于我并不是电源工程师，所以购买的成品开关电源模块。

![成品模块](/images/acdc_mod.png)

图中红圈的就是成品开关电源模块。一共使用了2个。其中一个用于提供隔离的5V。另一个则是将输出的负极和高压侧的 GND 连接。以获得非隔离的 5V 供电。然后再使用一个 DCDC 升压芯片获得一个非隔离的12v。当然，如果使用12v 输出的隔离模块，然后使用 dcdc 降压，同样能达成目的。不过这就意味着要购买两种电源模块。会增加 BOM 成本。

由于使用了成品的开关电源，使得220v变频器的成本里有个无法压缩的2个开关电源模块。而且这种模块必须手焊，无法使用自动化的贴片流水线。凭空增加成本。

# 使用 DCDC 芯片获得12v

由于板子上有非隔离的12v供电的需求。因此转而使用了DCDC降压芯片获得12v供电。

大部分DCDC芯片都是为低压的直流转直流设计的。无法耐受高压。但是，架不住人们对成本压缩的渴望。芯片公司转而研发了输入耐压能到 600V 的 DCDC 降压模块。用于将 整流后的 310v 直流电直接降压为低压。相比低压的dcdc芯片，这种非隔离的dcdc芯片仍然被归类到 ac/dc 电源芯片里。但是实际上其架构就是普通的 Buck 降压电路。因此他的成本也就比普通的dcdc芯片多几毛钱。

再搭配一个 DCDC 降压电路，于是我就获得了比使用成品开关电源模块要便宜很多的 12v 和 5v 供电。

获得了廉价高压侧的非隔离低压电，解决了栅极驱动芯片和隔离器副边的供电问题。 单片机侧还是需要隔离电源。还是需要使用成品电源模块。

# 使用 FlyBuck 获得隔离的5v

趁春假，把唐老师一千多个视频都给过了一遍。在这个宝库里发现了 FlyBuck 架构。
不过也被唐老师给坑了一把。他号称任何 dcdc 芯片都能用于获得隔离的输出。

其实只有 同步整流的 dcdc 芯片能做到。被他这么一坑，2月的白嫖机会直接浪费。

不过最终结果还是好的。最终我使用 FlyBuck 拓扑成功获得了隔离的 5v 电源。
扔掉了成品电源模块。供电成本直接砍掉8成。

![](/images/flybuck.png)

红圈里分别是 1：1 变压器，高压DCDC ic 和普通同步整流 buck 变压器ic。

从而砍掉了成品的电源模块。
而且同步整流的 DCDC 芯片，能从12v 输入电压同时产生 隔离的 5v 和非隔离的5v.

# FlyBuck 永远的神

如果使用多绕组的变压器，FlyBuck 还能一次产生更多的隔离电压。虽然不能用于大电流的场景。但是需要小功率隔离电压的场合还是非常多的。

比如隔离式 CAN 收发器， 隔离式 RS485 收发器。隔离式 I2C 收发器。

这些元件都需要一个极低功率的隔离电源供电。而且是每个元件一个。使用 flybuck 就可以用非常低的成本产生巨量的隔离电源。给单片机的每个对外接口都配置一个独立电源供电的隔离器。极大的增强了单片机的电气安全性。

